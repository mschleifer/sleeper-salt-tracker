import I from"./dialog.esm.556b95eb.js";import{Z as k,aq as c,i as b,t as i,v as d,R as f,a7 as m,aa as H,A as v,Q as y,a8 as g,a4 as h,V as A,W as L}from"./entry.db485a10.js";import{s as _}from"./basecomponent.esm.87b535d2.js";import"./index.esm.fec2c34a.js";import"./baseicon.esm.bfa6651b.js";import"./portal.esm.d81a6146.js";var C={},U={name:"BaseDynamicDialog",extends:_,props:{},style:C,provide:function(){return{$parentInstance:this}}},B={name:"DynamicDialog",extends:U,inheritAttrs:!1,data:function(){return{instanceMap:{}}},openListener:null,closeListener:null,currentInstance:null,mounted:function(){var t=this;this.openListener=function(p){var r=p.instance,s=k()+"_dynamic_dialog";r.visible=!0,r.key=s,t.instanceMap[s]=r},this.closeListener=function(p){var r=p.instance,s=p.params,a=r.key,o=t.instanceMap[a];o&&(o.visible=!1,o.options.onClose&&o.options.onClose({data:s,type:"config-close"}),t.currentInstance=o)},c.on("open",this.openListener),c.on("close",this.closeListener)},beforeUnmount:function(){c.off("open",this.openListener),c.off("close",this.closeListener)},methods:{onDialogHide:function(t){!this.currentInstance&&t.options.onClose&&t.options.onClose({type:"dialog-close"})},onDialogAfterHide:function(){this.currentInstance&&delete this.currentInstance,this.currentInstance=null},getTemplateItems:function(t){return Array.isArray(t)?t:[t]}},components:{DDialog:I}};function M(n,t,p,r,s,a){var o=b("DDialog");return i(!0),d(y,null,f(s.instanceMap,function(e,D){return i(),m(o,h({key:D,visible:e.visible,"onUpdate:visible":function(l){return e.visible=l},_instance:e},e.options.props,{pt:n.pt,unstyled:n.unstyled,onHide:function(l){return a.onDialogHide(e)},onAfterHide:a.onDialogAfterHide}),H({default:v(function(){return[(i(),m(g(e.content),A(L(e.options.emits)),null,16))]}),_:2},[e.options.templates&&e.options.templates.header?{name:"header",fn:v(function(){return[(i(!0),d(y,null,f(a.getTemplateItems(e.options.templates.header),function(u,l){return i(),m(g(u),h({key:l+"_header"},e.options.emits),null,16)}),128))]}),key:"0"}:void 0,e.options.templates&&e.options.templates.footer?{name:"footer",fn:v(function(){return[(i(!0),d(y,null,f(a.getTemplateItems(e.options.templates.footer),function(u,l){return i(),m(g(u),h({key:l+"_footer"},e.options.emits),null,16)}),128))]}),key:"1"}:void 0]),1040,["visible","onUpdate:visible","_instance","pt","unstyled","onHide","onAfterHide"])}),128)}B.render=M;export{B as default};
